---
import { Image } from "astro:assets";
import wagonPhone from "../images/selector/wagon.png";
import msmPhone from "../images/selector/msm.png";
import omsistuffPhone from "../images/selector/omsistuff.png";
import thesesPhone from "../images/selector/theses.png";
import kppPhone from "../images/selector/kpp.png";
---

<h2>Mes projets</h2>
<ul id="bs" data-scroll data-scroll-call="hidePresentation">
  <li>
    <input type="radio" name="ropo" id="bs-wagon" checked />
    <Image src={wagonPhone} alt="" />
  </li>
  <li>
    <input type="radio" name="ropo" id="bs-msm" />
    <Image src={msmPhone} alt="" />
  </li>
  <li>
    <input type="radio" name="ropo" id="bs-omsistuff" />
    <Image src={omsistuffPhone} alt="" />
  </li>
  <li>
    <input type="radio" name="ropo" id="bs-theses" />
    <Image src={thesesPhone} alt="" />
  </li>
  <li>
    <input type="radio" name="ropo" />
    <Image src={kppPhone} alt="" />
  </li>
</ul>

<style>
  h2 {
    margin: 0 var(--navbar-horizontal-padding);
    margin-bottom: 10vh;
    margin-top: 20vh;
    font-size: 4vw;
    color: gray;
    text-align: center;
  }

  ul {
    position: relative;
    margin: 0 auto;
    padding: 0;
    width: 70%;
    list-style: none;
    display: flex;
    perspective: 800px;
  }

  ul::after {
    content: "";
    position: absolute;
    bottom: 0;
    top: 30%;
    left: -100vw;
    right: -100vw;
    background: linear-gradient(to bottom, #fff0 0%, #fffe 40%, #fff 70%);
    pointer-events: none;
  }

  li {
    position: relative;
    transform-origin: top;
  }

  input[type="radio"] {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    appearance: none;
    cursor: pointer;
    z-index: 1;
  }

  input:checked + img {
    transform: translateY(-5vh);
  }

  input:not(:checked) + img {
    opacity: 0.5;
  }

  img {
    transition-property: opacity, transform;
    transition-duration: 0.24s;
    transition-timing-function: cubic-bezier(0.15, 1.44, 0.67, 0.91);
  }

  li:nth-child(1) {
    transform: rotate3d(-0.7, 1, -0.1, 40deg) translate(-10%, 3%);
  }

  li:nth-child(2) {
    transform: rotate3d(-0.7, 0.35, -0.03, 30deg) translateY(1%) scale(0.95);
  }

  li:nth-child(3) {
    transform: rotate3d(-0.7, 0, 0, 20deg) scale(0.86);
  }

  li:nth-child(4) {
    transform: rotate3d(-0.7, -0.35, 0.03, 30deg) translateY(1%) scale(0.95);
  }

  li:nth-child(5) {
    transform: rotate3d(-0.7, -1, 0.1, 40deg) translate(10%, 3%);
  }

  img {
    width: 100%;
    height: auto;
  }

  @media (prefers-color-scheme: dark) {
    ul::after {
      background: linear-gradient(to bottom, #0000 0%, #000e 40%, #000 70%);
    }

    ul::before {
      content: "";
      position: absolute;
      bottom: 0;
      left: -100vw;
      right: -100vw;
      height: 100vh;
      background: linear-gradient(to top, #222 30%, #0000 100%);
    }
  }
</style>

<style is:global>
  .bs-wagon-content,
  .bs-msm-content,
  .bs-theses-content,
  .bs-omsistuff-content {
    display: none;
  }

  #bs:has(#bs-wagon:checked) ~ .bs-wagon-content {
    display: block;
  }

  #bs:has(#bs-msm:checked) ~ .bs-msm-content {
    display: block;
  }

  #bs:has(#bs-theses:checked) ~ .bs-theses-content {
    display: block;
  }

  #bs:has(#bs-omsistuff:checked) ~ .bs-omsistuff-content {
    display: block;
  }

  .bento-content {
    position: relative;
    margin-top: -10vw;
    z-index: 2;
  }
</style>
